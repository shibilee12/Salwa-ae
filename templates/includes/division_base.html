{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#0a0a0a" />
  <meta name="description" content="{% block meta_description %}{{ business_title }} — Salwa AE. Feel the Reality.{% endblock %}" />
  <title>{% block title %}{{ business_title }} | Salwa AE{% endblock %}</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    html { -webkit-text-size-adjust: 100%; -webkit-tap-highlight-color: transparent; }
    header { padding-top: max(0.25rem, env(safe-area-inset-top)); padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right); }
    body { font-family: 'Inter', sans-serif; }
    .brand { font-family: 'Playfair Display', serif; }
    {% block extra_css %}{% endblock %}
  </style>
</head>
<body class="{% block body_class %}bg-[#0a0a0a] text-white{% endblock %}">
  <header class="fixed w-full top-0 z-50 backdrop-blur {% block header_class %}bg-black/30{% endblock %}">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-4 md:py-5 flex justify-between items-center">
      <a href="{% url 'home' %}" class="brand text-lg sm:text-xl md:text-2xl flex items-center gap-2 min-h-[44px] min-w-[44px] items-center justify-start" id="logo-wrap">
        <img src="{% static 'logos/logo.png' %}" alt="Salwa AE" class="h-7 sm:h-8 md:h-10 w-auto logo-img" style="display:none" onerror="this.style.display='none'; document.getElementById('logo-wrap').querySelector('.logo-fallback').style.display='inline';" onload="document.getElementById('logo-wrap').querySelector('.logo-fallback').style.display='none'; this.style.display='block';">
        <span class="logo-fallback" style="display:inline">Salwa <span class="{% block logo_accent_class %}text-[#d4af37]{% endblock %}">AE</span></span>
      </a>
      <button type="button" id="divNavToggle" class="md:hidden min-h-[44px] min-w-[44px] flex items-center justify-center text-current -mr-2" aria-label="Open menu" aria-expanded="false">
        <svg id="divNavIconOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        <svg id="divNavIconClose" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
      <nav id="divMainNav" class="hidden md:flex items-center gap-4 lg:gap-8 uppercase tracking-widest text-xs">
        <a href="{% url 'about' %}" class="{% block nav_link_class %}hover:opacity-80{% endblock %} py-2 min-h-[44px] md:min-h-0 flex items-center">About</a>
        <a href="{% url 'home' %}#businesses" class="{% block nav_link_class %}hover:opacity-80{% endblock %} py-2 min-h-[44px] md:min-h-0 flex items-center">Divisions</a>
        <a href="{% url 'careers' %}" class="{% block nav_link_class %}hover:opacity-80{% endblock %} py-2 min-h-[44px] md:min-h-0 flex items-center">Careers</a>
        <a href="{% url 'contact' %}" class="{% block nav_link_class %}hover:opacity-80{% endblock %} py-2 min-h-[44px] md:min-h-0 flex items-center">Contact</a>
      </nav>
    </div>
    <div id="divMobileDrawer" class="fixed inset-0 z-40 md:hidden opacity-0 pointer-events-none transition-opacity duration-300">
      <div id="divMobileBackdrop" class="absolute inset-0 bg-black/80 backdrop-blur-sm"></div>
      <div class="absolute top-0 right-0 h-full w-full max-w-[280px] bg-black/95 border-l border-white/10 pt-20 pb-8 px-6 flex flex-col gap-0 overflow-y-auto">
        <a href="{% url 'about' %}" class="min-h-[48px] flex items-center text-sm uppercase tracking-wider border-b border-white/5 div-drawer-close">About</a>
        <a href="{% url 'home' %}#businesses" class="min-h-[48px] flex items-center text-sm uppercase tracking-wider border-b border-white/5 div-drawer-close">Divisions</a>
        <a href="{% url 'careers' %}" class="min-h-[48px] flex items-center text-sm uppercase tracking-wider border-b border-white/5 div-drawer-close">Careers</a>
        <a href="{% url 'contact' %}" class="min-h-[48px] flex items-center text-sm uppercase tracking-wider div-drawer-close">Contact</a>
      </div>
    </div>
  </header>

  <main class="min-h-screen pt-20 sm:pt-24 md:pt-24">
    {% block content %}{% endblock %}
  </main>

  <footer class="{% block footer_bg %}bg-black border-t border-white/5{% endblock %} py-10 sm:py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6">
      <div class="flex flex-col md:flex-row md:justify-between md:items-center gap-6 sm:gap-8 mb-6 sm:mb-10">
        <a href="{% url 'home' %}" class="brand text-lg sm:text-xl text-white text-center md:text-left">SALWA <span class="{% block footer_accent_class %}text-[#d4af37]{% endblock %}">AE</span></a>
        <nav class="flex flex-wrap justify-center md:justify-end gap-4 sm:gap-6 text-xs uppercase tracking-widest text-gray-400">
          <a href="{% url 'about' %}" class="min-h-[44px] flex items-center justify-center hover:opacity-80 py-2">About</a>
          <a href="{% url 'careers' %}" class="min-h-[44px] flex items-center justify-center hover:opacity-80 py-2">Careers</a>
          <a href="{% url 'contact' %}" class="min-h-[44px] flex items-center justify-center hover:opacity-80 py-2">Contact</a>
        </nav>
      </div>
      <div class="flex justify-center flex-wrap gap-6 sm:gap-8 mb-6 sm:mb-8 text-sm min-h-[44px] items-center">
        {% if salwa_instagram %}<a href="{{ salwa_instagram }}" target="_blank" rel="noopener" aria-label="Instagram" class="text-gray-500 hover:opacity-80 py-2">Instagram</a>{% endif %}
        {% if salwa_facebook %}<a href="{{ salwa_facebook }}" target="_blank" rel="noopener" aria-label="Facebook" class="text-gray-500 hover:opacity-80 py-2">Facebook</a>{% endif %}
        {% if salwa_linkedin %}<a href="{{ salwa_linkedin }}" target="_blank" rel="noopener" aria-label="LinkedIn" class="text-gray-500 hover:opacity-80 py-2">LinkedIn</a>{% endif %}
      </div>
      <p class="text-center text-xs text-gray-600 pb-4">© 2026 Salwa AE • salwauae.com</p>
    </div>
  </footer>
  <script>
    (function() {
      var t = document.getElementById('divNavToggle');
      var d = document.getElementById('divMobileDrawer');
      var b = document.getElementById('divMobileBackdrop');
      var o = document.getElementById('divNavIconOpen');
      var c = document.getElementById('divNavIconClose');
      function openD() {
        if (!d) return;
        d.classList.remove('opacity-0', 'pointer-events-none');
        d.classList.add('opacity-100');
        if (o) o.classList.add('hidden'); if (c) c.classList.remove('hidden');
        if (t) { t.setAttribute('aria-expanded', 'true'); t.setAttribute('aria-label', 'Close menu'); }
        document.body.style.overflow = 'hidden';
      }
      function closeD() {
        if (!d) return;
        d.classList.add('opacity-0', 'pointer-events-none');
        d.classList.remove('opacity-100');
        if (o) o.classList.remove('hidden'); if (c) c.classList.add('hidden');
        if (t) { t.setAttribute('aria-expanded', 'false'); t.setAttribute('aria-label', 'Open menu'); }
        document.body.style.overflow = '';
      }
      if (t) t.addEventListener('click', function() { d.classList.contains('pointer-events-none') ? openD() : closeD(); });
      if (b) b.addEventListener('click', closeD);
      document.querySelectorAll('.div-drawer-close').forEach(function(l) { l.addEventListener('click', closeD); });
    })();
  </script>
</body>
</html>
